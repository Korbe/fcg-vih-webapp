{"version":3,"file":"EditCreate-C3K8E3RQ.js","sources":["../../../resources/js/Shared/VInput.vue","../../../resources/js/Pages/News/EditCreate.vue"],"sourcesContent":["<template>\n    <label class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\" for=\"id\">{{ label }}</label>\n    <div class=\"mt-1 sm:mt-0 sm:col-span-2\">\n        <input id=\"id\"\n               :value=\"modelValue\"\n               class=\"max-w-lg block w-full shadow-sm focus:ring-brand-primary focus:border-brand-primary sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n               name=\"alt\"\n               type=\"text\"\n               @input=\"$emit('update:modelValue', $event.target.value)\"/>\n\n        <div v-show=\"error\">\n            <p class=\"text-sm text-red-600\">\n                {{ error }}\n            </p>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'v-input',\n    emits: ['update:modelValue'],\n    props: {\n        id: {\n            type: String,\n            required: true\n        },\n        label: {\n            type: String,\n            required: true\n        },\n        modelValue: {\n            type: String,\n            required: false\n        },\n        error: {\n            type: String,\n        },\n    },\n}\n</script>\n","<template>\n    <AppLayout :title=\"form.id ? 'News bearbeiten' : 'Neue Predigt'\">\n        <template #header>\n            <h2 class=\"font-semibold text-xl text-gray-800 leading-tight\">\n                {{ form.id ? 'News bearbeiten' : 'News hochladen' }}\n            </h2>\n            <p class=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                {{ form.id ? 'Bearbeite die News' : 'Lade aktuelle News hoch.' }}\n            </p>\n        </template>\n\n        <div class=\"py-12\">\n            <div class=\"max-w-3xl mx-auto sm:px-6 lg:px-8\">\n                <div class=\"bg-white overflow-hidden shadow-xl sm:rounded-lg\">\n\n                    <form class=\"space-y-10 divide-y divide-gray-200 sm:space-y-5\" @submit.prevent=\"save\">\n                        <div class=\"p-4\">\n                            <div>\n                                <div class=\"space-y-8 sm:space-y-5\">\n                                    <div class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5\">\n                                        <v-input id=\"title\" v-model=\"form.title\" :error=\"form.errors.title\"\n                                            label=\"Titel\" />\n                                        <VTextArea id=\"description\" v-model=\"form.description\"\n                                            :error=\"form.errors.description\" label=\"Beschreibung\" />\n                                    </div>\n\n                                    <!-- Titelbild -->\n                                    <div\n                                        class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                                        <label class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Titel\n                                            Bild</label>\n                                        <div class=\"mt-1 sm:mt-0 sm:col-span-2\">\n                                            <!-- Bildvorschau -->\n                                            <img v-if=\"title_image_preview\" :src=\"title_image_preview\"\n                                                class=\"mb-2 w-32 h-32 object-cover rounded border\" />\n\n                                            <file-input id=\"title_image\" @change=\"previewTitleImage\" accept=\"image/*\"\n                                                class=\"max-w-lg block w-full focus:ring-brand-primary focus:border-brand-primary sm:max-w-xs sm:text-sm\"\n                                                name=\"image\" type=\"file\" />\n                                            <jet-input-error :message=\"form.errors.title_image\" class=\"mt-2\" />\n                                        </div>\n                                    </div>\n\n                                    <!-- Unterstützungsbild -->\n                                    <div\n                                        class=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                                        <label\n                                            class=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">Unterstützungs\n                                            Bild</label>\n                                        <div class=\"mt-1 sm:mt-0 sm:col-span-2\">\n                                            <!-- Bildvorschau -->\n                                            <img v-if=\"support_image_preview\" :src=\"support_image_preview\"\n                                                class=\"mb-2 w-32 h-32 object-cover rounded border\" />\n\n                                            <file-input id=\"support_image\" @change=\"previewSupportImage\"\n                                                accept=\"image/*\"\n                                                class=\"max-w-lg block w-full focus:ring-brand-primary focus:border-brand-primary sm:max-w-xs sm:text-sm\"\n                                                name=\"image\" type=\"file\" />\n                                            <jet-input-error :message=\"form.errors.support_image\" class=\"mt-2\" />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"bg-gray-200 bg-opacity-25 flex flex-row-reverse\">\n                            <div class=\"p-6\">\n                                <jet-button>{{ form.id ? 'Aktualisieren' : 'Hochladen' }}</jet-button>\n                            </div>\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        </div>\n    </AppLayout>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { router, useForm } from \"@inertiajs/vue3\";\nimport AppLayout from \"@/Layouts/AppLayout.vue\";\nimport JetInputError from \"@/Jetstream/InputError.vue\";\nimport JetButton from \"@/Jetstream/Button.vue\";\nimport FileInput from \"@/Shared/FileInput.vue\";\nimport VInput from \"@/Shared/VInput.vue\";\nimport VTextArea from \"@/Shared/VTextarea.vue\";\n\n// Wenn wir die Daten erhalten, definieren wir sie hier\nconst props = defineProps({\n    news: Object,\n});\n\nconst form = useForm({\n    id: props.news?.id || null,\n    title: props.news?.title || '',\n    description: props.news?.description || '',\n    title_image: null,\n    support_image: null\n});\n\n// Bild-Vorschau\nconst title_image_preview = ref(props.news?.media[0]?.original_url || null);\nconst support_image_preview = ref(props.news?.media[1]?.original_url || null);\n\n// Funktion, um eine Bildvorschau anzuzeigen\nconst previewTitleImage = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n        title_image_preview.value = URL.createObjectURL(file);\n        form.title_image = file;\n    }\n};\n\nconst previewSupportImage = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n        support_image_preview.value = URL.createObjectURL(file);\n        form.support_image = file;\n    }\n};\n\nconst save = () => {\n    // Wenn eine ID vorhanden ist, ein PUT-Request senden\n    if (form.id)\n        router.post(route('dashboard.news.update', form.id), { _method: 'put', ...form })\n    else\n        form.post(route(\"dashboard.news.store\"))\n};\n</script>\n"],"names":["_sfc_main","_hoisted_2","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_toDisplayString","$props","_ctx","$event","props","__props","form","useForm","_a","_b","_c","title_image_preview","ref","_e","_d","support_image_preview","_g","_f","previewTitleImage","event","file","previewSupportImage","save","router"],"mappings":"2XAkBA,MAAKA,EAAU,CACX,KAAM,UACN,MAAO,CAAC,mBAAmB,EAC3B,MAAO,CACH,GAAI,CACA,KAAM,OACN,SAAU,EACb,EACD,MAAO,CACH,KAAM,OACN,SAAU,EACb,EACD,WAAY,CACR,KAAM,OACN,SAAU,EACb,EACD,MAAO,CACH,KAAM,MACT,CACJ,CACL,KArCW,MAAM,2DAA2D,IAAI,MACvEC,EAAA,CAAA,MAAM,4BAA4B,EAF3CC,EAAA,CAAA,OAAA,EAWeC,EAAA,CAAA,MAAM,sBAAsB,0BAX3C,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,CACIC,EAAoG,QAApGC,EAAoGC,EAAhBC,EAAK,KAAA,EAAA,CAAA,EACzFH,EAaM,MAbNN,EAaM,CAZFM,EAKiE,QAAA,CAL1D,GAAG,KACF,MAAOG,EAAU,WAClB,MAAM,wIACN,KAAK,MACL,KAAK,OACJ,uBAAOC,EAAK,MAAA,oBAAsBC,EAAO,OAAO,KAAK,EARrE,EAAA,KAAA,GAAAV,CAAA,IAUQK,EAIM,MAAA,KAAA,CAHFA,EAEI,IAFJJ,EAEIM,EADGC,EAAK,KAAA,EAAA,CAAA,YAFHA,EAAK,KAAA,8kDC+E1B,MAAMG,EAAQC,EAIRC,EAAOC,EAAQ,CACjB,KAAIC,EAAAJ,EAAM,OAAN,YAAAI,EAAY,KAAM,KACtB,QAAOC,EAAAL,EAAM,OAAN,YAAAK,EAAY,QAAS,GAC5B,cAAaC,EAAAN,EAAM,OAAN,YAAAM,EAAY,cAAe,GACxC,YAAa,KACb,cAAe,IACnB,CAAC,EAGKC,EAAsBC,IAAIC,GAAAC,EAAAV,EAAM,OAAN,YAAAU,EAAY,MAAM,KAAlB,YAAAD,EAAsB,eAAgB,IAAI,EACpEE,EAAwBH,IAAII,GAAAC,EAAAb,EAAM,OAAN,YAAAa,EAAY,MAAM,KAAlB,YAAAD,EAAsB,eAAgB,IAAI,EAGtEE,EAAqBC,GAAU,CACjC,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EAC7BC,IACAT,EAAoB,MAAQ,IAAI,gBAAgBS,CAAI,EACpDd,EAAK,YAAcc,EAE3B,EAEMC,EAAuBF,GAAU,CACnC,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EAC7BC,IACAL,EAAsB,MAAQ,IAAI,gBAAgBK,CAAI,EACtDd,EAAK,cAAgBc,EAE7B,EAEME,EAAO,IAAM,CAEXhB,EAAK,GACLiB,EAAO,KAAK,MAAM,wBAAyBjB,EAAK,EAAE,EAAG,CAAE,QAAS,MAAO,GAAGA,CAAM,CAAA,EAEhFA,EAAK,KAAK,MAAM,sBAAsB,CAAC,CAC/C"}